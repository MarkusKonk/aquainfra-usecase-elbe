{
    "version": "0.1.0",
    "id": "filter-clip-clean-extent",
    "use_case": "Elbe",
    "title": {
        "en": "Align extents of three datasets (D1=NUTS3 regions; D2=LAU regions; D3=river catchments) including validation steps."
    },
    "description": {
        "en": "Clip three overlapping datasets (D1=NUTS3 regions; D2=LAU regions; D3=river catchments) to the same analysis extent defined as the overlap of D1 and D3 and validate the geometries of the clipped D2."
    },
    "jobControlOptions": ["sync-execute", "async-execute"],
    "keywords": ["elbe use case", "AquaINFRA", "keyword 3", "keyword 4"],
    "links": [{
        "type": "text/html",
        "rel": "about",
        "title": "information",
        "href": "https://example.org/process",
        "hreflang": "en-US"
    }],
    "inputs": {
        "inputFile1_gpkg": {
            "title": "NUTS3 regions",
            "description": "EU NUTS3 regions saved in geopackage. It should be in same coordinate system as the inputted river catchment dataset and overlap this - ideally it should fully contain its extent.",
            "schema": {
                "type": "object",
                "contentMediaType": "application/geopackage+sqlite3"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "inputFile2_gpkg": {
            "title": "LAU regions.",
            "description": "EU LAU (Local Areal Unit) regions saved in geopackage. It should be in same coordinate system as the other inputted datasets and overlap these - ideally fully contained in the extent of the inputted river catchment dataset.",
            "schema": {
                "type": "object",
                "contentMediaType": "application/geopackage+sqlite3"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "inputFile3_gpkg": {
            "title": "Validated river catchments dataset",
            "description": "River catchments dataset stored as geopackage and already validated. An example could be EU Ecrins subcatchments from 2012. It should have the same coordinate system as the inputted NUTS3 dataset and overlap this - ideally it should fully be within its extent.",
            "schema": {
                "type": "object",
                "contentMediaType": "application/geopackage+sqlite3"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        }
    },
    "outputs": {
        "nuts3_filtered": {
            "title": "NUTS3 regions cut to analysis extent",
            "description": "EU NUTS3 regions as a geopackage cut to the analysis extent, defined as the the intersection between the NUTS3 dataset and the inputted river catchment dataset",
            "schema": {
                "type": "object",
                "contentMediaType": "application/geopackage+sqlite3"
            }
        },
        "lau_processed": {
            "title": "Validated LAU regions cut to analysis extent",
            "description": "EU LAU (Local Areal Unit) regions as a geopackage cut to the analysis extent and with validated geometries stored as multi-polygon",
            "schema": {
                "type": "object",
                "contentMediaType": "application/geopackage+sqlite3"
            }
        },
        "analysis_extent": {
            "title": "Analysis extent defined as the intersection of the inputted NUTS3 dataset and the inputted river catchment dataset.",
            "description": "Analysis extent returned as one validated geopackage polygon. It is the validated geometry of the intersection between the inputted NUTS3 dataset and the inputted river catchment dataset.",
            "schema": {
                "type": "object",
                "contentMediaType": "application/geopackage+sqlite3"
            }
        }
    },
    "example": {
        "inputs": {
            "country_code": "DE"
        }
    }
}
